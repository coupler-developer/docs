# 기술 부채 정리 (2026-02-01)

## 범위

- coupler-mobile-app
- coupler-admin-web
- coupler-api

---

## 1) API 전송 포맷 일관성 부족 `P1` `M`

현상

- 일부 요청이 URL-encoded 기반으로 전송됨.
- 배열/리스트는 문자열 포맷에 의존하는 구간이 존재함.
- 일부 API 스펙은 배열 전송을 전제로 정의됨.
- 이미지/리스트 데이터는 배열/문자열을 모두 처리하는 방어 로직이 일부 존재함.

영향

- 클라/서버 포맷 불일치 위험.
- 확장/디버깅 비용 증가.

액션 후보

- JSON 전송으로 통일.
- 또는 URL-encoded에서 배열 인코딩 규칙을 명확히 정의.

---

## 2) 레거시 클래스 컴포넌트 잔존 `P2` `L`

현상

- 클래스 컴포넌트와 Hooks가 혼재.
- 구식 라이프사이클 사용 구간 존재.

영향

- 유지보수 비용 증가.
- 리팩터링/테스트 난이도 상승.

액션 후보

- 신규/수정 화면부터 Hooks 전환.
- 의존성 낮은 화면부터 순차 전환.

---

## 3) TypeScript 전환 미완 `P2` `L`

현상

- JS 비중이 높고 TS 적용 범위가 제한적.

영향

- 타입 안정성 및 자동완성 품질 저하.
- 리팩터링 리스크 증가.

액션 후보

- 화면/스토어/유틸부터 전환.
- API 응답 타입 정의 우선 도입.

---

## 4) Deprecated 의존성 존재 `P1` `M`

현상

- 일부 패키지에서 deprecated 표기 및 보안 안내가 존재함.

영향

- 업그레이드 비용 증가.
- 보안/유지보수 리스크.

액션 후보

- 상위 패키지 의존성부터 정리 후 대체/업그레이드 계획 수립.

---

## 5) 에러 처리/로깅 공백 `P1` `S`

현상

- 빈 catch 등 조용한 실패가 존재.

영향

- 문제 재현/원인 추적이 어려움.

액션 후보

- 공통 에러 핸들러와 로깅 정책 적용.

---

## 6) 불필요한 normalize / fallback 로직 정리 `P2` `M`

현상

- API 응답 파싱 시 불필요한 normalize 함수가 산재.
- UI 컴포넌트 props 기본값에 과도한 fallback 처리.
- 스토어/상태 초기화 구간에서 방어 코드 남용.
- 과도한 optional chaining(`?.`)과 nullish coalescing(`??`) 사용으로 실제 문제를 숨기는 구간 존재.

영향

- 코드 가독성 저하 및 디버깅 난이도 상승.
- 실제 null/undefined가 발생하면 안 되는 구간에서도 방어 코드가 있어 버그 원인 파악이 어려움.

액션 후보

- normalize/fallback 함수 중 실질적으로 사용되지 않거나 중복인 것 정리.
- TS 전환(3번) 이후 타입 기반으로 nullable 여부를 판별하여 불필요한 `?.` / `??` 제거.

---

## 7) 다국어(i18n) 키 정합성 및 JSON 구조 정리 `P1` `M`

현상

- 일부 화면에서 없는 키/오타 키 사용.
- 다국어 JSON 파일 간 키 불일치(누락, 오타, 미사용 키 잔존).
- 코드에서 사용하는 키와 JSON에 정의된 키가 정확히 매칭되지 않는 구간 존재.
- 새로 추가된 화면/기능의 번역 키가 누락된 채 배포되는 경우 발생.

영향

- 텍스트 누락/표시 오류 발생.
- 특정 언어에서 텍스트 미노출 또는 키 원문 그대로 노출.
- 다국어 유지보수 비용 증가.

액션 후보

- 전체 다국어 파일 간 키 동기화 점검 및 정리(누락/미사용/오타 일괄 정리).
- 코드에서 사용하는 키와 JSON 정의 키의 정합성 자동 검증 도입.
- 신규 키 추가 시 모든 언어 파일에 동시 반영하는 프로세스 확립.
